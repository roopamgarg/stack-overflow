{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { List, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport Layout from \"../components/layout/Layout\";\nimport AskQuestion from \"../components/askQuestion/AskQuestion\";\nimport Questions from \"../components/questions/Questions\";\nimport { getQuestions as _getQuestions } from \"../redux/index\";\n\nvar IndexPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IndexPage, _Component);\n\n  function IndexPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, IndexPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(IndexPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      page: 0,\n      pageSize: 10\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadMore\", !_this.props.questionsLoader ? __jsx(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: 12,\n        height: 32,\n        lineHeight: '32px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, __jsx(Button, {\n      onClick: _this.onLoadMore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"loading more\")) : null);\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadMore\", function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                page: _this.state.page + 1\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.props.getQuestions(\"\", _this.state.page + 1, _this.state.pageSize));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(IndexPage, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      console.log(props);\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          padding: \"0 10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(List, {\n        loadMore: this.loadMore,\n        className: \"demo-loadmore-list\",\n        loading: props.questionsLoader,\n        itemLayout: \"horizontal\",\n        dataSource: props.questions,\n        renderItem: function renderItem(item, index) {\n          return __jsx(Questions, {\n            item: item,\n            key: index,\n            index: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        style: {\n          padding: \"2rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, __jsx(AskQuestion, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), \"Ask Question\"))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var store, isServer, pathname, query, action;\n      return _regeneratorRuntime.async(function getInitialProps$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              store = _ref.store, isServer = _ref.isServer, pathname = _ref.pathname, query = _ref.query;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(_getQuestions(\"\"));\n\n            case 4:\n              action = _context2.sent;\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(action(store.dispatch));\n\n            case 7:\n              return _context2.abrupt(\"return\", {\n                questions: store.getState().questions\n              });\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              return _context2.abrupt(\"return\", {});\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[1, 10]]);\n    }\n  }]);\n\n  return IndexPage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    questions: state.question.questions,\n    questionsLoader: state.question.questionsLoader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getQuestions: function getQuestions(search, message) {\n      return dispatch(_getQuestions(search, message));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IndexPage);","map":{"version":3,"sources":["/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/index.js"],"names":["React","Component","List","Button","connect","Layout","AskQuestion","Questions","getQuestions","IndexPage","page","pageSize","props","questionsLoader","textAlign","marginTop","height","lineHeight","onLoadMore","setState","state","console","log","padding","loadMore","questions","item","index","store","isServer","pathname","query","action","dispatch","getState","mapStateToProps","question","mapDispatchToProps","search","message"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { List, Button } from \"antd\";\nimport { connect } from \"react-redux\";\n\nimport Layout from \"../components/layout/Layout\";\nimport AskQuestion from \"../components/askQuestion/AskQuestion\";\nimport Questions from \"../components/questions/Questions\";\n\nimport { getQuestions } from \"../redux/index\";\nclass IndexPage extends Component {\n  static async getInitialProps({ store, isServer, pathname, query }) {\n    try {\n      const action = await getQuestions(\"\");\n      await action(store.dispatch);\n      return { questions: store.getState().questions };\n    } catch (err) {\n      return {};\n    }\n  }\n  state = {\n    page:0,\n    pageSize:10\n  }\n  loadMore = !this.props.questionsLoader ? (\n    <div\n      style={{\n        textAlign: 'center',\n        marginTop: 12,\n        height: 32,\n        lineHeight: '32px',\n      }}\n    >\n      <Button onClick={this.onLoadMore}>loading more</Button>\n    </div>\n  ) : null;\n  onLoadMore = async () => {\n    this.setState({\n      page:this.state.page+1\n    })\n   await this.props.getQuestions(\"\",this.state.page+1,this.state.pageSize)\n  }\n  render() {\n    const props = this.props;\n    console.log(props);\n    return (\n      <Layout>\n        <div style={{ padding: \"0 10%\" }}>\n          <List\n            loadMore={this.loadMore}\n            className=\"demo-loadmore-list\"\n            loading={props.questionsLoader}\n            itemLayout=\"horizontal\"\n            dataSource={props.questions}\n            renderItem={(item, index) => <Questions item={item} key={index} index={index} />}\n          />\n          <div style={{ padding: \"2rem\" }}>\n            <AskQuestion {...props}>Ask Question</AskQuestion>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.question.questions,\n  questionsLoader: state.question.questionsLoader\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getQuestions: (search, message) => dispatch(getQuestions(search, message))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(IndexPage);\n"]},"metadata":{},"sourceType":"module"}
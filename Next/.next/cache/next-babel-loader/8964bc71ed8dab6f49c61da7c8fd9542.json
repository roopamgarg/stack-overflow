{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/login.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { loginUser as _loginUser } from \"../redux/index\";\nimport { connect } from \"react-redux\";\nimport { message } from \"antd\";\nimport Link from \"next/link\";\nimport cookie from \"react-cookies\";\nimport Router from 'next/router';\nimport Layout from \"../components/Layout\";\n\nfunction LoginForm(props) {\n  if (cookie.load('token')) {\n    return Router.push('/', '/', {\n      shallow: true\n    });\n  }\n\n  useEffect(function () {}, []);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    props.form.validateFields(function _callee(err, values) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (err) {\n                _context.next = 4;\n                break;\n              }\n\n              console.log(\"Received values of form: \", values);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(props.loginUser(values, message));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    });\n  };\n\n  var getFieldDecorator = props.form.getFieldDecorator;\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"login__form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(Form, {\n    onSubmit: handleSubmit,\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, getFieldDecorator(\"email\", {\n    rules: [{\n      required: true,\n      message: \"Please input your username!\"\n    }]\n  })(__jsx(Input, {\n    prefix: __jsx(Icon, {\n      type: \"user\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }),\n    placeholder: \"Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))), __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, getFieldDecorator(\"password\", {\n    rules: [{\n      required: true,\n      message: \"Please input your Password!\"\n    }]\n  })(__jsx(Input, {\n    prefix: __jsx(Icon, {\n      type: \"lock\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(Button, {\n    type: \"primary\",\n    loading: props.loginLoader,\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Log in\"), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \"Or \", __jsx(Link, {\n    href: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"register now!\"))))));\n}\n\nvar WrappedLoginForm = Form.create({\n  name: \"login_form\"\n})(LoginForm);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loginLoader: state.user.loginLoader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loginUser: function loginUser(data, message) {\n      return _regeneratorRuntime.async(function loginUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(_loginUser(data, message)(dispatch));\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);","map":{"version":3,"sources":["/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/login.js"],"names":["React","useEffect","Form","Icon","Input","Button","Checkbox","loginUser","connect","message","Link","cookie","Router","Layout","LoginForm","props","load","push","shallow","handleSubmit","e","preventDefault","form","validateFields","err","values","console","log","getFieldDecorator","rules","required","color","loginLoader","WrappedLoginForm","create","name","mapStateToProps","state","user","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { loginUser } from \"../redux/index\";\nimport { connect } from \"react-redux\";\nimport { message } from \"antd\";\nimport  Link from \"next/link\";\nimport cookie from \"react-cookies\";\nimport  Router from 'next/router';\nimport Layout from \"../components/Layout\";\n\nfunction LoginForm(props) {\n    if(cookie.load('token')){\n       return Router.push('/','/', { shallow: true })\n      }\n  useEffect(()=>{\n   \n  },[])\n  const handleSubmit =  e => {\n    e.preventDefault();\n\n    props.form.validateFields(async (err, values) => {\n      if (!err) {\n        console.log(\"Received values of form: \", values);\n        await props.loginUser(values, message);\n      }\n    });\n  };\n  const { getFieldDecorator } = props.form;\n  return (\n      <Layout>\n    <div className=\"login__form-container\">\n      <Form onSubmit={handleSubmit} className=\"login-form\">\n        <Form.Item>\n          {getFieldDecorator(\"email\", {\n            rules: [{ required: true, message: \"Please input your username!\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              placeholder=\"Username\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator(\"password\", {\n            rules: [{ required: true, message: \"Please input your Password!\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            loading={props.loginLoader}\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n          >\n            Log in\n          </Button>\n          <br />\n          Or <Link href=\"/register\"><a>register now!</a></Link>\n        </Form.Item>\n      </Form>\n    </div>\n    </Layout>\n  );\n}\n\nconst WrappedLoginForm = Form.create({ name: \"login_form\" })(LoginForm);\nconst mapStateToProps = state => ({\n  loginLoader: state.user.loginLoader\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginUser: async (data, message) => \n     await loginUser(data, message)(dispatch)\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);\n"]},"metadata":{},"sourceType":"module"}